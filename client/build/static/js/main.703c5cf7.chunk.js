(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{43:function(e,t,s){},44:function(e,t,s){},57:function(e,t,s){"use strict";s.r(t);var c=s(0),n=s(32),a=s.n(n),i=(s(43),s(13)),u=(s(44),s(28)),r=s(2),j=s(38),l=s(21),o=s(1);var b=function(e){var t=Object(c.useState)((function(){return Object(l.a)(":8000")})),s=Object(i.a)(t,1)[0],n=Object(c.useState)(""),a=Object(i.a)(n,2),u=a[0],r=a[1],b=Object(c.useState)([]),m=Object(i.a)(b,2),O=m[0],f=m[1];return Object(c.useEffect)((function(){console.log("Is this on?"),s.on("send chat",(function(e){f((function(t){return[].concat(Object(j.a)(t),[e])}))}))}),[]),Object(o.jsxs)("div",{className:"messageFormDiv",children:[O.slice(0).reverse().map((function(e,t){return Object(o.jsx)("div",{className:"messageBox",children:Object(o.jsxs)("h3",{children:[Object(o.jsxs)("span",{className:"userSpan",children:[e.user,": "]}),e.message]})},t)})),Object(o.jsxs)("form",{className:"fixedForm",onSubmit:function(t){t.preventDefault(),s.emit("chat",{user:e.user,message:u}),r("")},children:[Object(o.jsx)("input",{className:"nameInput",type:"text",name:"message",autoComplete:"off",value:u,onChange:function(e){e.preventDefault(),r(e.target.value)}}),Object(o.jsx)("input",{className:"submitBtn",type:"submit",value:"submit"})]})]})},m=s.p+"static/media/spyicon.f3a7bb33.png",O=function(e){var t=Object(c.useState)((function(){return Object(l.b)(":8000")})),s=(Object(i.a)(t,1)[0],Object(c.useState)("")),n=Object(i.a)(s,2),a=n[0],u=n[1],j=Object(r.e)();return Object(o.jsxs)("div",{className:"loginBox",children:[Object(o.jsxs)("div",{className:"flexBox",children:[Object(o.jsx)("img",{className:"spy",src:m,alt:"spy icon"}),Object(o.jsx)("h1",{className:"welcome",children:"Welcome to the Dead Drop! Please enter a screen name to start messaging!"}),Object(o.jsx)("img",{className:"spy",src:m,alt:"spy icon"})]}),Object(o.jsxs)("form",{className:"loginForm",onSubmit:function(t){t.preventDefault(),e.login(a),j.push("/chat")},children:[Object(o.jsx)("label",{children:"Name: "}),Object(o.jsx)("input",{className:"nameInput",type:"text",onChange:function(e){u(e.target.value)}}),Object(o.jsx)("input",{className:"submitBtn",type:"submit",value:"submit"})]})]})},f=function(e){return Object(o.jsxs)("div",{className:"userDisplay",children:[Object(o.jsx)("h3",{children:"Current Agents in chat:"}),Object(o.jsx)("ul",{className:"userList",children:e.users.map((function(e,t){return Object(o.jsxs)("li",{children:["Agent: ",e.user," | Agent ID: ",e.id]},t)}))})]})};var x=function(){var e=Object(c.useState)((function(){return Object(l.b)(":8000")})),t=Object(i.a)(e,1)[0],s=Object(c.useState)(""),n=Object(i.a)(s,2),a=n[0],j=n[1],m=Object(c.useState)([]),x=Object(i.a)(m,2),h=x[0],p=x[1];return Object(c.useEffect)((function(){return t.on("userList",(function(e){p(e),console.log("user list: ",e)})),function(){return t.disconnect(!0)}}),[t]),Object(o.jsx)("div",{className:"App",children:Object(o.jsx)(u.a,{children:Object(o.jsxs)("div",{className:"flexBox",children:[Object(o.jsx)(r.a,{exact:!0,path:"/",children:Object(o.jsx)(O,{userList:h,login:function(e){j(e),t.emit("login",e)}})}),Object(o.jsxs)(r.a,{exact:!0,path:"/chat",children:[Object(o.jsx)(b,{userList:h,user:a}),Object(o.jsx)(f,{className:"userDisplay",users:h})]})]})})})},h=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,58)).then((function(t){var s=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,i=t.getTTFB;s(e),c(e),n(e),a(e),i(e)}))};a.a.render(Object(o.jsx)(x,{}),document.getElementById("root")),h()}},[[57,1,2]]]);
//# sourceMappingURL=main.703c5cf7.chunk.js.map